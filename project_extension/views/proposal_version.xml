<?xml version='1.0' encoding='utf-8' ?>
<odoo>
    <data>
    
        <record id='proposal_version_form_view' model='ir.ui.view'>
            <field name='name'>proposal.version.form</field>
            <field name='model'>proposal.version</field>
            <field name='arch' type='xml'>
                <form>
                <header>
                    <field name='state' widget='statusbar'/>
                </header>
                    <sheet>
                        <group>
                            <group>
                                <field name='name'/>
                                <field name='partner_id'/>
                                <field name='proposed_amount'/>
                                <field name='project_id'/>
                            </group>
                            <group>
                                <group>
                                    <field name='approval_1_user_id'/>
                                    <field name='user_1_approved' readonly='1'/>
                                </group>
                                <group>
                                    <field name='approval_2_user_id'/>
                                    <field name='user_2_approved' readonly='1'/>
                                </group>
                            </group>
                            <separator string='Proposal Document'/>
                                <field name='attachment_ids' mode='kanban' readonly='True'/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id='proposal_version_tree_view' model='ir.ui.view'>
            <field name='name'>proposal.version.tree</field>
            <field name='model'>proposal.version</field>
            <field name='arch' type='xml'>
                <tree colors="background-color@#7DCFEE:state=='waiting_approval',background-color@#f442f4:state=='single_user_approved',background-color@#9CE852:state=='accepted',background-color@#F95D66:state=='rejected'" default_order='id desc'>
                      <field name='name'/>
                      <field name='project_id'/>
                      <field name='state' invisible='1'/>
                </tree>
            </field>
        </record>
        
        <record id='proposal_version_action' model='ir.actions.act_window'>
            <field name='name'>Proposals</field>
            <field name='res_model'>proposal.version</field>
            <field name='view_type'>form</field>
            <field name='view_mode'>tree,form</field>
            <field name='help' type='html'>
                <p class="oe_view_nocontent_create">
                    Create new Proposals for the projects 
                    and send to Managers to Approve.
                </p>
            </field>
        </record>
        
        <menuitem id='proposal_version_base' name='Proposals' action='proposal_version_action' parent='project.menu_project_config'/>
        
    </data>
</odoo>
