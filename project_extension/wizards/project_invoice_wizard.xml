<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <data>
        <record id='project_invoice_wizard' model='ir.ui.view'>
            <field name='name'>project.invoice.wizard</field>
            <field name='model'>project.invoice.wizard</field>
            <field name='arch' type='xml'>
                <form>
                    <sheet>
                        <group>
                            <group>
                                <field name='partner_id'/>
                                <field name="invoice_type" required="1"/>
                            </group>
                            <group>
                                <field name='project_id'/>
                                <field name='currency_id' invisible='1'/>
                            </group>
                            <separator string='Invoice Lines'/>
                            <field name='project_invoice_line_ids' widget='section_and_note_one2many'>
                                <tree editable='bottom'>
                                    <field name='product_id'/>
                                    <field name='description' widget='section_and_note_text'/>
                                    <field name='qty'/>
                                    <field name='price'/>
                                </tree>
                            </field>
                            <group class="oe_subtotal_footer oe_right">
                                <field name="amount_total" class="oe_subtotal_footer_separator"/>
                            </group>
                        </group>
                    </sheet>
                    <footer>
                        <button string='Create Invoice' name='create_invoice' type='object' class='oe_highlight'/>
                        <button string='Cancel' special='cancel'/>
                    </footer>
                </form>
            </field>
        </record>
        
        <record id='project_invoice_wizard_action' model='ir.actions.act_window'>
            <field name='name'>Project Invoice</field>
            <field name='res_model'>project.invoice.wizard</field>
            <field name='view_type'>form</field>
            <field name='view_mode'>form</field>
            <field name='target'>new</field>
        </record>
    </data>
</odoo>
